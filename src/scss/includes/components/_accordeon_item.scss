$grid-line-offsets: (
    desktop: 2,
    tablet: 1,
    phone: 1,
);

.accordeon_item {
    position: relative;

    &:not(:last-child)::after {
        content: "";
        display: block;
        position: absolute;
        bottom: 0;
        height: 1px;
        background-color: $color-bg;

        @each $bp, $value in $grid-line-offsets {

            @include breakpoint($bp) {
                left: map-get($grid-gutter, $bp) / $value * -1;
                width: calc(100% + #{map-get($grid-gutter, $bp)} / #{$value} + #{map-get($grid-offset, $bp)});
            }
        }
    }

    @include breakpoint(desktop) {
        padding-top: rem(20);
        padding-bottom: rem(30);
    }

    @include breakpoint(phone) {
        padding-top: rem(16);
        padding-bottom: rem(40);
    }

    &.is-closed {

        .accordeon_item__copy {
            height: 0 !important;
        }
    
        .accordeon_item__term {
            svg {
                transform: rotateX(0deg);
            }
        }
    }

    &__copy {
        overflow: hidden;
        transition: height .3s ease-in;

        @include breakpoint(desktop) {
            padding-top: rem(10);
        }

        @include breakpoint(phone) {
            padding-top: rem(5);
        }
    } 

    &__term {
        transition: .3s color ease;
        text-transform: uppercase;

        @include breakpoint(desktop) {
            @include letter-spacing(-1.05, 30);
        }

        svg {
            transition: .3s transform ease;
            transform: rotateX(-180deg);
        }
    }

    &__button {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 5;

        &:focus ~ .accordeon_item__term {                                            
            color: $color-purple;
        }

        @include hover {
            & ~ .accordeon_item__term {                                            
                color: $color-purple;
            }
        }

        @each $bp, $value in $grid-line-offsets {

            @include breakpoint($bp) {
                left: map-get($grid-gutter, $bp) / $value * -1;
                width: calc(100% + #{map-get($grid-gutter, $bp)} / #{$value} + #{map-get($grid-offset, $bp)});
            }
        }
    }

    &__arrow {
        position: absolute;
        right: 0;

        @include breakpoint(desktop) {
            top: rem(20);
            width: rem(22);
        }

        @include breakpoint(phone) {
            top: rem(17);
            width: rem(22);
        }
    }

    .text {
        padding-block: 0;

        @include breakpoint(phone) {
            max-width: rem(256);
        }
    }
}

