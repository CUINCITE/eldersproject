<section class="module module--map box" data-scroll="box">
    <div class="box__bg"></div>
    <div class="map{% if params.global %} map--global{% endif %} {% if collectionColor %}map--{{collectionColor}}{% endif %}"
        data-component="Map" data-theme-color="main" {% if params.global
        %}data-options='{ "lazyLoading": true, "zoomOnScroll": true, "maxZoom": 15, "pitch": 0 }' {% endif %}
        data-locations="{{items|json_encode}}" data-theme-color="{{ collectionColor }}">
        <div class="map__aside">
            <div class="map__heading">
                <h2 class="heading">
                    Map
                </h2>
            </div>
            <ul class="map__locations">
                {% for item in items %}
                <li class="map__location js-location-wrapper">
                    <button class="map__location-button js-location" data-id="{{item.id}}" data-title="{{item.label}}"
                        data-location="{{item.address}}" data-coords="{{item.gps_lat}}, {{item.gps_lng}}"
                        data-interviews="{{item.quotes|json_encode}}"></button>
                    <div class="map__place">
                        <div class="map__title">{{item.label}}</div>
                        {% if params.global %}
                        <span class="map__address">[[svg::pin]] {{item.address}}</span>
                        {% endif %}
                    </div>
                    <div class="map__content">
                        <div class="map__content-wrapper">
                            <div class="map__description">
                                <p>{{item.description}}</p>
                            </div>
                            <div class="map__image_wrapper js-map-image-wrapper desktop-hide tablet-hide"></div>
                            <ul class="map__interviews js-interviews-inner-list desktop-hide tablet-hide"></ul>
                        </div>
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div class="map__wrap phone-hide">
            <div id="map" class="map__container js-map"></div>
            <ul class="map__interviews js-interviews-list"></ul>
            <div class="map__controls">
                <button class="map__control js-toggle-button">{% if params.global %}Full View{% else %}Zoom Out{% endif
                    %}</button>
            </div>
        </div>
    </div>
</section>
